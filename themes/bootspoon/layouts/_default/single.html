{{ define "main" }}

<div class="row justify-content-center">
    <div class="col-xl-6 col-lg-8 col-md-11">
        <article class="h-entry">
            <header>
                <h1 class="p-name">{{ .Title }}</h1>
            </header>
            {{ partial "metadata.html" . }}
            <img loading="lazy" src="{{ absURL .Params.headerImage }}" class="img-fluid u-featured u-photo" alt="{{ .Title }}" style="display: none;">
            <div class="p-author h-card" style="display: none;">
                <img loading="lazy" src="/img/avatar.jpg" alt="Avatar of Gerben Jacobs" class="u-photo">
                <a class="p-name u-url" href="https://gerben.dev">Gerben Jacobs</a>
            </div>
            {{ if and (gt .WordCount 400 ) (.Params.toc) }}
            <hr class="rainbow">
            <strong>Table of contents</strong>
            {{ .TableOfContents }}
            {{ end }}
            <hr class="rainbow">
            <div class="e-content">
            {{ .Content }}
            </div>
        </article>

        {{ if not .Params.hide_comments }}
        <hr class="rainbow">
        {{ template "_internal/disqus.html" . }}
        {{ end }}
    </div>
</div>

{{ $pages := .CurrentSection.Pages }}
<div class="row justify-content-center">
    <div class="col-xl-6 col-lg-8 col-md-11">
        <div class="row">
            <div class="col-md-6">
                {{ if $pages.Next . }}
                {{ with $pages.Next . }}
                <div class="card">
                    <img loading="lazy" src="{{ absURL .Params.headerImage }}" class="card-img-top card-img-height"
                         alt="{{ .Title }}">
                    <div class="card-body">
                        <span class="card-title" title="{{ .Title }}">
                            {{ .Title | truncate 30 "..." }}
                        </span>
                    </div>
                    <div class="card-footer">
                        <a href="{{ .Permalink }}" class="btn btn-primary">&laquo; Next</a>
                    </div>
                </div>
                {{end}}
                {{ end }}
            </div>
            <div class="col-md-6">
                {{ if $pages.Prev . }}
                {{ with $pages.Prev . }}
                <div class="card">
                    <img loading="lazy" src="{{ absURL .Params.headerImage }}" class="card-img-top card-img-height"
                         alt="{{ .Title }}">
                    <div class="card-body">
                        <span class="card-title" title="{{ .Title }}">
                            {{ .Title | truncate 30 "..." }}
                        </span>
                    </div>
                    <div class="card-footer text-end">
                        <a href="{{ .Permalink }}" class="btn btn-primary">Previous &raquo;</a>
                    </div>
                </div>
                {{ end }}
                {{ end }}
            </div>
        </div>
        <div class="row">
            <div class="col">
                Find any post in the <a href="/posts/archive/">archive</a>.
            </div>
        </div>
    </div>
</div>

{{ end }}